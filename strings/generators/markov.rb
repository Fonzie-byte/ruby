$hd = ["TH","OF","AN","IN","TO","CO","BE","HE","RE","HA","WA","FO","WH","MA","WI","ON","HI","PR","ST","NO","IS","IT","SE","WE","AS","CA","DE","SO","MO","SH","DI","AL","AR","LI","WO","FR","PA","ME","AT","SU","BU","SA","FI","NE","CH","PO","HO","DO","OR","UN","LO","EX","BY","FA","LA","LE","PE","MI","SI","YO","TR","BA","GO","BO","GR","TE","EN","OU","RA","AC","FE","PL","CL","SP","BR","EV","TA","DA","AB","TI","RO","MU","EA","NA","SC","AD","GE","YE","AF","AG","UP","AP","DR","US","PU","CE","IF","RI","VI","IM","AM","KN","OP","CR","OT","JU","QU","TW","GA","VA","VE","PI","GI","BI","FL","BL","EL","JO","FU","HU","CU","RU","OV","MY","OB","KE","EF","PH","CI","KI","NI","SL","EM","SM","VO","MR","WR","ES","DU","TU","AU","NU","GU","OW","SY","JA","OC","EC","ED","ID","JE","AI","EI","SK","OL","GL","EQ","LU","AV","SW","AW","EY","TY"]
$di = Hash["TH"=>Hash["m"=>["E","A","I","O","R"],"e"=>["E","O"]],"AN"=>Hash["m"=>["D","T","Y","C","S","G","N","I","O","E","A","K"],"e"=>["D","T","Y","S","G","O","E","A","K"]],"IN"=>Hash["m"=>["G","T","E","D","S","C","A","I","K","V","U","N","F"],"e"=>["G","T","E","D","S","A","K"]],"IO"=>Hash["m"=>["N","U","R"],"e"=>["N","U","R"]],"EN"=>Hash["m"=>["T","C","D","S","E","I","G","O","N","A"],"e"=>["T","D","S","E","G","O","A"]],"TI"=>Hash["m"=>["O","N","C","V","M","L","E","T","S","A","R","F"],"e"=>["N","C","M","L","E","T","S","A","R","F"]],"FO"=>Hash["m"=>["R","U","O","L"],"e"=>["R","U","O","L"]],"HE"=>Hash["m"=>["R","N","Y","S","M","I","A","L","D","T"],"e"=>["R","N","Y","S","M","A","L","D","T"]],"HA"=>Hash["m"=>["T","D","V","N","S","R","P","L"],"e"=>["T","D","N","S","R","L"]],"HI"=>Hash["m"=>["S","N","C","M","L","P","G","T","R","E"],"e"=>["S","N","C","M","L","P","G","T","R","E"]],"TE"=>Hash["m"=>["R","D","N","S","M","L","E","C","A"],"e"=>["R","D","N","S","M","L","E","A"]],"AT"=>Hash["m"=>["I","E","T","H","U","O","C"],"e"=>["E","H","O"]],"ER"=>Hash["m"=>["E","S","I","A","N","Y","T","V","M","R","O","L","G","F","C"],"e"=>["E","S","A","N","Y","T","M"]],"AL"=>Hash["m"=>["L","S","I","T","E","U","O","M","K","F","A"],"e"=>["L","S","T","E","F"]],"WA"=>Hash["m"=>["S","Y","R","T","N","L"],"e"=>["S","Y","R","T","N","L"]],"VE"=>Hash["m"=>["R","N","L","S","D"],"e"=>["R","N","L","S","D"]],"CO"=>Hash["m"=>["N","M","U","R","L","V","S","O"],"e"=>["N","M","U","R","L","O"]],"RE"=>Hash["m"=>["S","A","D","N","E","C","L","T","P","M","V","G","F","Q"],"e"=>["S","A","D","N","E","L","T","P","M"]],"IT"=>Hash["m"=>["H","I","Y","E","S","T","A","U"],"e"=>["H","Y","E","S","A"]],"WI"=>Hash["m"=>["T","L","N","S"],"e"=>["T","L","N","S"]],"ME"=>Hash["m"=>["N","R","D","T","S","M","A"],"e"=>["N","R","D","T","S","M","A"]],"NC"=>Hash["m"=>["E","I","H","T","R","O","L"],"e"=>["E","H","T"]],"ON"=>Hash["m"=>["S","E","T","G","A","D","L","C","V","O","I","F"],"e"=>["S","E","T","G","A","D","O"]],"PR"=>Hash["m"=>["O","E","I","A"],"e"=>["E","A"]],"AR"=>Hash["m"=>["E","T","D","Y","S","I","R","L","M","K","G","A","O","N","C"],"e"=>["E","T","D","Y","S","M","K","A","N"]],"ES"=>Hash["m"=>["S","T","E","I","P","U","C"],"e"=>["S","T","E"]],"EV"=>Hash["m"=>["E","I"],"e"=>["E"]],"ST"=>Hash["m"=>["A","R","I","E","O","U","S"],"e"=>["A","E","O","S"]],"EA"=>Hash["m"=>["R","S","T","D","L","C","N","V","M","K"],"e"=>["R","S","T","D","L","N","M"]],"IV"=>Hash["m"=>["E","I","A"],"e"=>["E"]],"EC"=>Hash["m"=>["T","O","I","E","A","U","R","H"],"e"=>["T","E","H"]],"NO"=>Hash["m"=>["T","W","R","U","N","M"],"e"=>["T","W","R","U","N","M"]],"OU"=>Hash["m"=>["T","L","R","N","S","G","P","B"],"e"=>["T","L","R","N","S","P"]],"PE"=>Hash["m"=>["R","N","C","A","D","T","O"],"e"=>["R","N","A","D","T"]],"IL"=>Hash["m"=>["L","E","I","Y","D","A"],"e"=>["L","E","Y","D"]],"IS"=>Hash["m"=>["T","H","S","I","E","C","M"],"e"=>["T","H","S","E","M"]],"MA"=>Hash["m"=>["N","T","L","K","D","S","I","G"],"e"=>["N","T","L","D","S"]],"AV"=>Hash["m"=>["E","I","A"],"e"=>["E"]],"OM"=>Hash["m"=>["E","P","M","I","A"],"e"=>["E"]],"IC"=>Hash["m"=>["A","H","E","I","T","K","U","S"],"e"=>["H","E","T","K","S"]],"GH"=>Hash["m"=>["T"],"e"=>["T"]],"DE"=>Hash["m"=>["R","N","S","D","A","V","P","T","M","L","F"],"e"=>["R","N","S","D","A","P","T","M","L"]],"AI"=>Hash["m"=>["N","D","R","L","T"],"e"=>["N","D","R","L","T"]],"CT"=>Hash["m"=>["I","E","U","S","O"],"e"=>["E","S","O"]],"IG"=>Hash["m"=>["H","N","I"],"e"=>["H","N"]],"ID"=>Hash["m"=>["E"],"e"=>["E"]],"OR"=>Hash["m"=>["E","T","M","D","S","K","I","Y","L","G","A","R","N","C"],"e"=>["E","T","M","D","S","K","Y","A","N"]],"OV"=>Hash["m"=>["E","I"],"e"=>["E"]],"UL"=>Hash["m"=>["D","T","A","L"],"e"=>["D","T","L"]],"YO"=>Hash["m"=>["U"],"e"=>["U"]],"BU"=>Hash["m"=>["T","S","R","I"],"e"=>["T","S","R"]],"RA"=>Hash["m"=>["T","N","L","C","I","M","D","S","R","P","G","B"],"e"=>["T","N","L","M","D","S","R"]],"FR"=>Hash["m"=>["O","E","A"],"e"=>["E","A"]],"RO"=>Hash["m"=>["M","U","V","P","N","W","S","O","L","D","C","B","A","T","G"],"e"=>["M","U","P","N","W","O","L","D","T"]],"WH"=>Hash["m"=>["I","E","O","A"],"e"=>["E","O"]],"OT"=>Hash["m"=>["H","E","T","I"],"e"=>["H","E"]],"BL"=>Hash["m"=>["E","I","Y","O","A"],"e"=>["E","Y"]],"NT"=>Hash["m"=>["E","I","S","R","O","A","L","Y","U","H"],"e"=>["E","S","O","A","Y","H"]],"UN"=>Hash["m"=>["D","T","I","C","G"],"e"=>["D","T","G"]],"TR"=>Hash["m"=>["A","I","O","E","U","Y"],"e"=>["A","E","Y"]],"HO"=>Hash["m"=>["U","W","S","R","L","O","M","T","P","N","D"],"e"=>["U","W","R","L","O","M","T","P","N","D"]],"AC"=>Hash["m"=>["T","E","K","H","C","R","I"],"e"=>["T","E","K","H"]],"TU"=>Hash["m"=>["R","D","A","T"],"e"=>["R","T"]],"WE"=>Hash["m"=>["R","L","E","V","S","N","A"],"e"=>["R","L","E","S","N","A"]],"CA"=>Hash["m"=>["L","N","T","R","U","S","M","P"],"e"=>["L","N","T","R","S","M"]],"SH"=>Hash["m"=>["E","O","I","A"],"e"=>["E","O"]],"UR"=>Hash["m"=>["E","N","T","S","I","A","Y","R","P","C"],"e"=>["E","N","T","S","A","Y"]],"IE"=>Hash["m"=>["S","N","D","T","W","V","R","L","F"],"e"=>["S","N","D","T","W","R","L"]],"PA"=>Hash["m"=>["R","T","S","N","L","I","C"],"e"=>["R","T","S","N","L"]],"TO"=>Hash["m"=>["R","O","N","W","P","M","L"],"e"=>["R","O","N","W","P","M","L"]],"EE"=>Hash["m"=>["N","D","T","M","S","R","P","L","K"],"e"=>["N","D","T","M","S","R","P","L","K"]],"LI"=>Hash["m"=>["N","T","S","C","K","G","E","F","Z","V","O","M","A"],"e"=>["N","T","S","C","G","E","F","M","A"]],"RI"=>Hash["m"=>["N","E","C","T","S","G","A","V","O","P","M","L","D","B"],"e"=>["N","E","C","T","S","G","A","P","M","L","D"]],"UG"=>Hash["m"=>["H","G"],"e"=>["H"]],"AM"=>Hash["m"=>["E","P","I","O","A"],"e"=>["E"]],"ND"=>Hash["m"=>["E","I","S","A","U","O"],"e"=>["E","S","O"]],"US"=>Hash["m"=>["E","T","I","S","L","H"],"e"=>["E","T","S","H"]],"LL"=>Hash["m"=>["Y","E","O","I","S","A"],"e"=>["Y","E","S"]],"AS"=>Hash["m"=>["T","S","E","I","U","O","K","H"],"e"=>["T","S","E","O","H"]],"TA"=>Hash["m"=>["T","N","L","I","R","K","B","G","C"],"e"=>["T","N","L","R"]],"LE"=>Hash["m"=>["S","D","A","T","C","R","N","M","G","V","F"],"e"=>["S","D","A","T","R","N","M"]],"MO"=>Hash["m"=>["R","S","V","T","U","D"],"e"=>["R","T","U","D"]],"WO"=>Hash["m"=>["R","U"],"e"=>["R","U"]],"MI"=>Hash["m"=>["N","L","S","T","C","G"],"e"=>["N","L","S","T","C","G"]],"AB"=>Hash["m"=>["L","O","I"],"e"=>[]],"EL"=>Hash["m"=>["L","Y","I","E","F","O","A","T","S","P","D"],"e"=>["L","Y","E","F","T","S","D"]],"IA"=>Hash["m"=>["L","N","T"],"e"=>["L","N","T"]],"NA"=>Hash["m"=>["L","T","R","N","M"],"e"=>["L","T","R","N","M"]],"SS"=>Hash["m"=>["I","E","U","O","A"],"e"=>["E","O"]],"AG"=>Hash["m"=>["E","A","O"],"e"=>["E","O"]],"TT"=>Hash["m"=>["E","L","I"],"e"=>["E"]],"NE"=>Hash["m"=>["D","S","W","R","E","Y","V","T","L","C","A"],"e"=>["D","S","W","R","E","Y","T","L","A"]],"PL"=>Hash["m"=>["A","E","I","Y","O"],"e"=>["E","Y"]],"LA"=>Hash["m"=>["T","N","R","S","C","Y","W","I","B"],"e"=>["T","N","R","S","Y","W"]],"OS"=>Hash["m"=>["T","E","S","I"],"e"=>["T","E","S"]],"CE"=>Hash["m"=>["S","N","R","D","P","L","I"],"e"=>["S","N","R","D","P","L"]],"DI"=>Hash["m"=>["S","N","T","D","F","E","C","A","V","R"],"e"=>["S","N","T","D","F","E","C","A","R"]],"BE"=>Hash["m"=>["R","E","C","T","L","F","S","I","G","D","A"],"e"=>["R","E","T","L","S","D","A"]],"AP"=>Hash["m"=>["P","E","A"],"e"=>["E"]],"SI"=>Hash["m"=>["O","N","D","T","S","G","C","B","V","M","A"],"e"=>["N","D","T","S","G","C","M","A"]],"NI"=>Hash["m"=>["N","T","S","C","Z","O","G","F"],"e"=>["N","T","S","C","G","F"]],"OW"=>Hash["m"=>["N","E","S","I","A"],"e"=>["N","E","S"]],"SO"=>Hash["m"=>["N","M","U","L","C","R"],"e"=>["N","M","U","L","R"]],"AK"=>Hash["m"=>["E","I"],"e"=>["E"]],"CH"=>Hash["m"=>["E","A","I","O","U","R"],"e"=>["E","O"]],"EM"=>Hash["m"=>["E","S","P","O","B","A","I"],"e"=>["E","S"]],"IM"=>Hash["m"=>["E","P","I","A","S","M"],"e"=>["E","S"]],"SE"=>Hash["m"=>["D","N","L","S","R","E","C","T","V","A"],"e"=>["D","N","L","S","R","E","T","A"]],"NS"=>Hash["m"=>["T","I","E"],"e"=>["T","E"]],"PO"=>Hash["m"=>["S","R","N","L","W","T","I"],"e"=>["R","N","L","W","T"]],"EI"=>Hash["m"=>["R","N","G","T"],"e"=>["R","N","G","T"]],"EX"=>Hash["m"=>["P","T","I","C","A"],"e"=>["T"]],"KI"=>Hash["m"=>["N"],"e"=>["N"]],"UC"=>Hash["m"=>["H","T","K","E"],"e"=>["H","T","K","E"]],"AD"=>Hash["m"=>["E","I","Y","V","M","D"],"e"=>["E","Y"]],"GR"=>Hash["m"=>["E","A","O"],"e"=>["E","A"]],"IR"=>Hash["m"=>["E","S","T","L","I"],"e"=>["E","S","T"]],"NG"=>Hash["m"=>["E","S","L","T","R","I"],"e"=>["E","S"]],"OP"=>Hash["m"=>["E","P","L"],"e"=>["E"]],"SP"=>Hash["m"=>["E","O","I","A"],"e"=>["E"]],"OL"=>Hash["m"=>["D","L","I","O","E","U"],"e"=>["D","L","E"]],"DA"=>Hash["m"=>["Y","T","R","N"],"e"=>["Y","T","R","N"]],"NL"=>Hash["m"=>["Y"],"e"=>["Y"]],"TL"=>Hash["m"=>["Y","E"],"e"=>["Y","E"]],"LO"=>Hash["m"=>["W","N","O","S","C","V","U","T","R","P","G"],"e"=>["W","N","O","U","T","R","P"]],"BO"=>Hash["m"=>["U","T","R","O","D","A"],"e"=>["U","T","R","O","D"]],"RS"=>Hash["m"=>["T","E","O","I"],"e"=>["T","E","O"]],"FE"=>Hash["m"=>["R","E","W","L","C","A"],"e"=>["R","E","W","L","A"]],"FI"=>Hash["m"=>["R","N","C","E","L","G"],"e"=>["R","N","C","E","L","G"]],"SU"=>Hash["m"=>["R","C","P","B","M","L","A"],"e"=>["R","P","M","L"]],"GE"=>Hash["m"=>["N","T","S","R","D"],"e"=>["N","T","S","R","D"]],"MP"=>Hash["m"=>["L","O","A","T","R","E"],"e"=>["T","E"]],"UA"=>Hash["m"=>["L","T","R"],"e"=>["L","T","R"]],"OO"=>Hash["m"=>["K","D","L","T","R","N","M"],"e"=>["K","D","L","T","R","N","M"]],"RT"=>Hash["m"=>["I","H","A","E","Y","U","S"],"e"=>["H","A","E","Y","S"]],"SA"=>Hash["m"=>["I","M","Y","N","L"],"e"=>["M","Y","N","L"]],"CR"=>Hash["m"=>["E","I","O","A"],"e"=>["E","A"]],"FF"=>Hash["m"=>["E","I"],"e"=>["E"]],"IK"=>Hash["m"=>["E"],"e"=>["E"]],"MB"=>Hash["m"=>["E"],"e"=>["E"]],"KE"=>Hash["m"=>["D","N","T","S","R","E"],"e"=>["D","N","T","S","R","E"]],"FA"=>Hash["m"=>["C","R","M","I"],"e"=>["R","M"]],"CI"=>Hash["m"=>["A","T","E","S","P","N"],"e"=>["A","T","E","S","P","N"]],"EQ"=>Hash["m"=>["U"],"e"=>[]],"AF"=>Hash["m"=>["T","F"],"e"=>["T","F"]],"ET"=>Hash["m"=>["T","I","H","E","Y","W","S","A"],"e"=>["H","E","Y","S","A"]],"AY"=>Hash["m"=>["S","E"],"e"=>["S"]],"MU"=>Hash["m"=>["S","N","L","C"],"e"=>["S","N","L"]],"UE"=>Hash["m"=>["S","N"],"e"=>["S","N"]],"HR"=>Hash["m"=>["O","E","I"],"e"=>["E"]],"TW"=>Hash["m"=>["O","E"],"e"=>["O","E"]],"GI"=>Hash["m"=>["N","V","O","C"],"e"=>["N","C"]],"OI"=>Hash["m"=>["N"],"e"=>["N"]],"VI"=>Hash["m"=>["N","D","S","C","T","O","L","E"],"e"=>["N","D","S","C","T","L","E"]],"CU"=>Hash["m"=>["L","R","T","S"],"e"=>["L","R","T","S"]],"FU"=>Hash["m"=>["L","R","N"],"e"=>["L","R","N"]],"ED"=>Hash["m"=>["I","U","E"],"e"=>["E"]],"QU"=>Hash["m"=>["I","E","A"],"e"=>["E"]],"UT"=>Hash["m"=>["I","H","E"],"e"=>["H","E"]],"RC"=>Hash["m"=>["H","E"],"e"=>["H","E"]],"OF"=>Hash["m"=>["F","T"],"e"=>["F","T"]],"CL"=>Hash["m"=>["E","A","U","O"],"e"=>["E"]],"FT"=>Hash["m"=>["E"],"e"=>["E"]],"IZ"=>Hash["m"=>["E","A"],"e"=>["E"]],"PP"=>Hash["m"=>["E","O","R","L"],"e"=>["E"]],"RG"=>Hash["m"=>["E","A"],"e"=>["E"]],"DU"=>Hash["m"=>["C","S","R","A"],"e"=>["S","R"]],"RM"=>Hash["m"=>["A","S","I","E"],"e"=>["S","E"]],"YE"=>Hash["m"=>["A","S","D"],"e"=>["A","S","D"]],"RL"=>Hash["m"=>["Y","D"],"e"=>["Y","D"]],"DO"=>Hash["m"=>["W","N","M","E"],"e"=>["W","N","M"]],"AU"=>Hash["m"=>["T","S"],"e"=>["T","S"]],"EP"=>Hash["m"=>["T","O","E","A"],"e"=>["T","E"]],"BA"=>Hash["m"=>["S","C","R","N","L"],"e"=>["S","R","N","L"]],"JU"=>Hash["m"=>["S"],"e"=>["S"]],"RD"=>Hash["m"=>["S","E","I"],"e"=>["S","E"]],"RU"=>Hash["m"=>["S","N","C"],"e"=>["S","N"]],"OG"=>Hash["m"=>["R","I"],"e"=>[]],"BR"=>Hash["m"=>["O","I","E","A"],"e"=>["E","A"]],"EF"=>Hash["m"=>["O","F","U","T","E"],"e"=>["F","T","E"]],"KN"=>Hash["m"=>["O","E"],"e"=>["O","E"]],"LS"=>Hash["m"=>["O"],"e"=>["O"]],"GA"=>Hash["m"=>["N","I","T","R"],"e"=>["N","T","R"]],"PI"=>Hash["m"=>["N","T","R","E","C"],"e"=>["N","T","R","E","C"]],"YI"=>Hash["m"=>["N"],"e"=>["N"]],"BI"=>Hash["m"=>["L","T","N"],"e"=>["L","T","N"]],"IB"=>Hash["m"=>["L","I","E"],"e"=>["E"]],"UB"=>Hash["m"=>["L"],"e"=>[]],"VA"=>Hash["m"=>["L","T","R","N"],"e"=>["L","T","R","N"]],"OC"=>Hash["m"=>["K","I","E","C","A"],"e"=>["K","E"]],"IF"=>Hash["m"=>["I","F","E","T"],"e"=>["F","E","T"]],"RN"=>Hash["m"=>["I","E","M","A"],"e"=>["E","A"]],"RR"=>Hash["m"=>["I","E","Y","O"],"e"=>["E","Y"]],"SC"=>Hash["m"=>["H","R","O","I","A"],"e"=>["H"]],"TC"=>Hash["m"=>["H"],"e"=>["H"]],"CK"=>Hash["m"=>["E"],"e"=>["E"]],"DG"=>Hash["m"=>["E"],"e"=>["E"]],"DR"=>Hash["m"=>["E","O","I","A"],"e"=>["E","A"]],"MM"=>Hash["m"=>["E","U","I"],"e"=>["E"]],"NN"=>Hash["m"=>["E","O","I"],"e"=>["E","O"]],"OD"=>Hash["m"=>["E","Y","U"],"e"=>["E","Y"]],"RV"=>Hash["m"=>["E","I"],"e"=>["E"]],"UD"=>Hash["m"=>["E","I"],"e"=>["E"]],"XP"=>Hash["m"=>["E"],"e"=>["E"]],"JE"=>Hash["m"=>["C"],"e"=>[]],"UM"=>Hash["m"=>["B","E"],"e"=>["E"]],"EG"=>Hash["m"=>["A","R","I","E"],"e"=>["E"]],"DL"=>Hash["m"=>["Y","E"],"e"=>["Y","E"]],"PH"=>Hash["m"=>["Y","O","I","E"],"e"=>["Y","O","E"]],"SL"=>Hash["m"=>["Y","A"],"e"=>["Y"]],"GO"=>Hash["m"=>["V","T","O"],"e"=>["T","O"]],"CC"=>Hash["m"=>["U","O","E"],"e"=>["E"]],"LU"=>Hash["m"=>["T","S","M","E","D"],"e"=>["T","S","M","E"]],"OA"=>Hash["m"=>["T","R","D"],"e"=>["T","R","D"]],"PU"=>Hash["m"=>["T","R","L","B"],"e"=>["T","R","L"]],"UI"=>Hash["m"=>["T","R","L"],"e"=>["T","R","L"]],"YS"=>Hash["m"=>["T"],"e"=>["T"]],"ZA"=>Hash["m"=>["T"],"e"=>["T"]],"HU"=>Hash["m"=>["S","R","N","M"],"e"=>["S","R","N","M"]],"MR"=>Hash["m"=>["S"],"e"=>["S"]],"OE"=>Hash["m"=>["S"],"e"=>["S"]],"SY"=>Hash["m"=>["S"],"e"=>["S"]],"EO"=>Hash["m"=>["R","P"],"e"=>["R","P"]],"TY"=>Hash["m"=>["P"],"e"=>[]],"UP"=>Hash["m"=>["P","O"],"e"=>[]],"FL"=>Hash["m"=>["O","E"],"e"=>["E"]],"LM"=>Hash["m"=>["O"],"e"=>[]],"NF"=>Hash["m"=>["O"],"e"=>[]],"RP"=>Hash["m"=>["O"],"e"=>[]],"OH"=>Hash["m"=>["N"],"e"=>[]],"NU"=>Hash["m"=>["M"],"e"=>["M"]],"XA"=>Hash["m"=>["M"],"e"=>["M"]],"OB"=>Hash["m"=>["L"],"e"=>[]],"VO"=>Hash["m"=>["L"],"e"=>["L"]],"DM"=>Hash["m"=>["I"],"e"=>[]],"GN"=>Hash["m"=>["I"],"e"=>[]],"LD"=>Hash["m"=>["I","E"],"e"=>["E"]],"PT"=>Hash["m"=>["I"],"e"=>[]],"SK"=>Hash["m"=>["I","E"],"e"=>["E"]],"WR"=>Hash["m"=>["I"],"e"=>[]],"JO"=>Hash["m"=>["H"],"e"=>[]],"LT"=>Hash["m"=>["H","E"],"e"=>["H","E"]],"YT"=>Hash["m"=>["H"],"e"=>["H"]],"UF"=>Hash["m"=>["F"],"e"=>["F"]],"BJ"=>Hash["m"=>["E"],"e"=>[]],"DD"=>Hash["m"=>["E"],"e"=>["E"]],"EY"=>Hash["m"=>["E"],"e"=>[]],"GG"=>Hash["m"=>["E"],"e"=>["E"]],"GL"=>Hash["m"=>["E","A"],"e"=>["E"]],"GU"=>Hash["m"=>["E"],"e"=>["E"]],"HT"=>Hash["m"=>["E"],"e"=>["E"]],"LV"=>Hash["m"=>["E"],"e"=>["E"]],"MS"=>Hash["m"=>["E"],"e"=>["E"]],"NM"=>Hash["m"=>["E"],"e"=>["E"]],"NV"=>Hash["m"=>["E"],"e"=>["E"]],"OK"=>Hash["m"=>["E"],"e"=>["E"]],"PM"=>Hash["m"=>["E"],"e"=>["E"]],"RK"=>Hash["m"=>["E"],"e"=>["E"]],"SW"=>Hash["m"=>["E"],"e"=>["E"]],"TM"=>Hash["m"=>["E"],"e"=>["E"]],"XC"=>Hash["m"=>["E"],"e"=>["E"]],"ZE"=>Hash["m"=>["D"],"e"=>["D"]],"AW"=>Hash["m"=>["A"],"e"=>[]],"SM"=>Hash["m"=>["A"],"e"=>[]]]

def word(arg)
  str = ""
  cur_str_len = 0
  dict_index = ""
  cur_opts = ""

  if arg === 1
    return rand(97..122).chr
  end

  while cur_str_len < (arg-1) do
    cur_str_len = str.length

    if cur_str_len < 2
      str = $hd.sample
      next
    end

    dict_index = str[(cur_str_len-2)..-1]
    cur_opts = $di[dict_index] ? $di[dict_index][cur_str_len == arg-1 ? "e" : "m"] : []

    if cur_opts.length > 0
      str << cur_opts.sample
    else
      str = str[0..(cur_str_len-2)]
    end
  end

  if str.length < arg
    return word(arg)
  end

  if str.length > arg
    str = str[0...arg]
  end

  return str.downcase
end

def sentence(arg)
  str = ""

  arg.times do
    str << word(1 + rand(1..3) + rand(1..3)) + " "
  end

  return str.strip.capitalize + "."
end

def paragraph(arg)
  str = ""

  arg.times do
    str << sentence(rand(2..6)) + "\n"
  end

  return str.strip
end

type = ARGV[0] || "word"

case type
when "sentence"
  len = ARGV[1] || rand(2..6)
  puts sentence len.to_i
when "paragraph"
  len = ARGV[1] || rand(2..5)
  puts paragraph len.to_i
else
  len = ARGV[1] || (1 + rand(1..3) + rand(1..3))
  puts word len.to_i
end
